/******************** (C) COPYRIGHT 2013 CEPARK多功能开发学习板********************
 * 文件名  ：main.c
 * 描述    ：当按下K1时 步进电机匀加速转动
			 当按下K2时 步进电机匀速转动
			 当按下K3时 步进电机匀减速转动
 * 实验平台：CEPARK多功能开发学习板
 * 库版本  ：ST3.5.0
**********************************************************************************/

#include "stm32f10x.h"
#include "bujin_motor.h"
#include "delay.h"    
#include "key.h"  

  
/* 
 * 函数名：main
 * 描述  : 主函数
 * 输入  ：无
 * 输出  : 无
 */
int main(void)
{  	
  	u8 flag=0;
  	/* 设置系统时钟为72M */
  	SystemInit();
  	
  	Key_GPIO_Config();
  	
  	BUJIN_MOTOR_GPIO_Config();
  	
  	while (1)
  	{
    	
    	if( Key_Scan(GPIOA,GPIO_Pin_0) == KEY_ON  )
		{
			flag=~flag;    
		}  
		
		if(flag==0)
		{
			BJ_MOTOR_8P_1(5);	//顺时针转动
		}
		else
		{
			BJ_MOTOR_8P_2(5);	//逆时针转动
		}
  	}
}




/******************* (C) COPYRIGHT 2013 CEPARK多功能开发学习板*****END OF FILE****/
